# Настройка Google Maps Import

## Проблема: "Server configuration error"

Если вы видите ошибку "Server configuration error" или "Google Maps API key is not configured", это означает, что не настроен API ключ Google Maps.

## Решение

### 1. Получите Google Maps API ключ

1. Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте проект или выберите существующий
3. Перейдите в **APIs & Services** > **Credentials**
4. Нажмите **Create Credentials** > **API Key**
5. Скопируйте созданный ключ

### 2. Включите необходимые API

В Google Cloud Console включите следующие API:
- **Places API (New)** - обязательно
- **Places API** - опционально (для обратной совместимости)

### 3. Добавьте ключ в переменные окружения

Создайте или откройте файл `.env.local` в корне проекта и добавьте:

```bash
# Server-side Google Maps API key (НЕ используйте NEXT_PUBLIC_)
GOOGLE_MAPS_API_KEY=ваш_ключ_здесь
```

**Важно:**
- Используйте `GOOGLE_MAPS_API_KEY` (без `NEXT_PUBLIC_`)
- Это серверный ключ, он не должен быть доступен на клиенте
- Не коммитьте `.env.local` в git (он уже в `.gitignore`)

### 4. Перезапустите сервер разработки

После добавления переменной окружения:

```bash
# Остановите сервер (Ctrl+C)
# Запустите снова
npm run dev
```

### 5. Ограничения API ключа (рекомендуется)

Для безопасности настройте ограничения:

1. В Google Cloud Console откройте ваш API ключ
2. **Application restrictions**: 
   - Выберите "HTTP referrers"
   - Добавьте ваш домен (например, `localhost:3000/*` для разработки)
3. **API restrictions**:
   - Выберите "Restrict key"
   - Разрешите только:
     - Places API (New)
     - Places API

## Проверка

После настройки попробуйте импортировать место из Google Maps:
1. Откройте редактор места
2. Нажмите "Импорт из Google"
3. Вставьте ссылку Google Maps
4. Нажмите "Импорт"

Если всё настроено правильно, данные должны импортироваться автоматически.

## Альтернатива: Использование существующего ключа

Если у вас уже есть `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY` для клиентской части, вы можете:

1. Создать отдельный серверный ключ (рекомендуется)
2. Или использовать тот же ключ, но добавить его как `GOOGLE_MAPS_API_KEY` в `.env.local`

**Примечание:** Использование одного ключа для клиента и сервера менее безопасно, но допустимо для разработки.
